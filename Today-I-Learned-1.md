چه مشکلی داشتم؟
مسئله این بود که من برای ارسال پیامک از تردینگ پایتون استفاده کردم ولی اعمال نمی شد. یعنی به جای اینکه کار من رو سریع تر کنه کند تر هم کرده بود و پیامک ها بعضی وقتا خیلی دیر میرفت بعضی وقتا به موقع.
تردینگ اینطوریه که تو همون پراسس پایتون، یه ترد جدید باز میشه و اون مسئول ارتباط با سرویس دهنده پیامکی هست و ترد اصلی پایتون ادامه لاجیک اون تابع یا ویو رو انجام میده.

چجوری حل کردم؟
بعدا فهمیدم که پایتون یه آقا بالاسر داره به اسم uwsgi (یا gunicorn. بستگی به پروژه داره)
و این آقا بالاسر من کانفیگ نکرده بودم که تردینگ رو بپذیره
با کانفیگ enable-threads = true
و مشخص کردن تعداد ترد ها برای هر پراسس با threads = 2
تردینگ دیگه داره کار میکنه :)

اما یه سری ریزه کاری ها هم داشت:
مثلا ما تو همین کانفیگ یو دبلیو اس جی آی مشخص میکنیم بعد از هر چند تا ریکوئست کلا این پراسس رو پاک کنه و یه پراسس دیگه بسازه و تعدادش روی ۱۰۰۰ بود پس اگه درخواست ارسال پیامک ما لب مرزی با این عدد بود و این پراسس پاک می شد و پراسس جدید ایجاد می شد دیگه اطلاعاتی از اون پراسس قبلی نیست و عملا اون پیامک هم ارسال نمیشه

چیکار کردم که اوکی بشه؟
تعداد رو گذاشتم روی ۵۰۰۰
و مقدار 
worker-reload-mercy = 60
رو ست کردم. این مقدار میگه وقتی تعداد ریکوئست ها پر شد و خواستی حذف کنی پراسس رو، ۶۰ ثانیه صبر کن تا همه کارایی که داره تو این پراسس انجام میشه تموم بشه مثل همین ارسال پیامک
و البته تو این مدت یه پراسس دیگه هم ایجاد شده که درخواست های جدید به پراسس جدید میره و این پراسسی که از قبل مونده و ۶۰ ثانیه وقت داره، صرفا کارای باقی مونده رو انجام میده


در نهایت هم در پایتون اومدم و یه پول ترد ساختم با یه دونه ترد کلا چون بیشتر از اون نیاز نیست و از همون استفاده میشه
البته چون روی هر ۴ تا کور سی پی یو هر کدوم یه دونه پراسس برای پایتون راه انداختیم و هر پراسس هم گفتیم دوتا ترد داره مجموعا ۸ تا ترد در استخرمون داریم.