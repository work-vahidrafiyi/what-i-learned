حاجی امروز یه چیز باحالی یادگرفتم راجب طراحی دیتابیس
یه مفهومی رو مهندس بهم گفت به نام اسنپ شات
اسنپ شات تو گیت میاد یه کپی از کل پروژه میگیره
تو وب هم همین حالت رو داره
فرض کن ما یه کد تخفیف طراحی میکنیم که ۵۰۰ هزار تومن تخفیف میده و یه کاربری استفاده میکنه ازش
اگه ما فقط آیدی اون تخفیف رو برای کاربر تو دیتابیس ثبت کنیم پس فردا روزی اگه اون مقدار تخفیف تغییر کنه مثلا بشه ۶۰۰ هزار تومن در نتیجه تخفیف برای اون کاربر قبلی هم میشه همون ۶۰۰ هزار تومن و اینطوری حساب و کتاب بهم میخوره
باید یه کاری کنیم اینکه وقتی کاربر کد تخفیف استفاده میکنه یا ثبت میکنه دقیقا همون مقدار رو برای کاربر ثبت کنیم نه اینکه رفرنس بدیم
اینطوری درسته فیلد تکراری تو دیتابیس داریم ولی داده ها درست ثبت میشه
برای تخفیف و سفارش و ... هم همینطور