برای ثبت نام کاربر، نیاز نیست و بهتره که قبلش چک نکنی همچین کاربری وجود داره یا نه. مستقیم بعد از ولیدیشن روی شماره موبایل و کد و ... بفرست که دیتابیس اینسرت کنه
اگه تونست اینسرت کنه که اوکیه
اگه نتونست خودش خطای Duplicate Entry رو برمیگردونه
فقط یادت باشه روی اون فیلد (ایمیل یا شماره موبایل) یونیک کانسترینت وارد کرده باشی

چرا سلکت کردن برای چک کردن اینکه از قبل وجود داره خوب نیست؟
چون اگه کاربر مثلا دوبار یه چند بار روی دکمه ثبت نام کلیک کنه و چند تا درخواست بیاد به بک اند
همزمان دوتا درخواست دارن یه کاربر رو چک میکنن
و هردوشون ممکنه به خاطر کندی شبکه بررسی کن و ببینن که این کاربر وجود نداره
و تا نتیجه سلکت بیاد میره یا اگر هم اومده باشه میره قسمت بعدی و شرطی که گذاشتیم میگه کاربر وجود نداره پس بساز
و دوتا درخواست یا چند تا درخواست همزمان میان و چند تا کاربر با یه شماره موبایل میسازن.


خب حالا یه سوال: اگه سلکت رو نذاریم باز هم دوتا درخواست همزمان میرسه به اینسرت و کار رو خراب میکنه که...
نه اینطوری نیست. درسته ما سطح بالا فکر میکنیم همزمان هست ولی بالاخره حتی اگه میلیاردم ثانیه تفاوت هم داشته باشه سی پی یو همه این ها رو تو صف میندازه
و دونه دونه چک میکنه پس اگه اولی اوکی باشه بقیه اش رد میشه.
